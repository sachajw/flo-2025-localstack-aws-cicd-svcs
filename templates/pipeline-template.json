{
  "pipelineType": "V1",
  "name": "${PIPELINE_NAME}",
  "roleArn": "arn:aws:iam::000000000000:role/localstack-dummy-role",
  "artifactStore": {
    "type": "S3",
    "location": "demo-artif-bucket"
  },
  "stages": [
    {
      "name": "source",
      "actions": [
        {
          "name": "get-source-code",
          "actionTypeId": {
            "category": "Source",
            "owner": "AWS",
            "provider": "S3",
            "version": "1"
          },
          "outputArtifacts": [
            {
              "name": "source-code"
            }
          ],
          "configuration": {
            "S3Bucket": "demo-source-bucket",
            "S3ObjectKey": "source-code.zip",
            "PollForSourceChanges": "false"
          }
        }
      ]
    },
    {
      "name": "test",
      "actions": [
        {
          "name": "run-tests",
          "actionTypeId": {
            "category": "Test",
            "owner": "AWS",
            "provider": "CodeBuild",
            "version": "1"
          },
          "inputArtifacts": [
            {
              "name": "source-code"
            }
          ],
          "configuration": {
            "ProjectName": "demo-test"
          }
        }
      ]
    },
    {
      "name": "publish",
      "actions": [
        {
          "name": "publish-package",
          "actionTypeId": {
            "category": "Build",
            "owner": "AWS",
            "provider": "CodeBuild",
            "version": "1"
          },
          "inputArtifacts": [
            {
              "name": "source-code"
            }
          ],
          "configuration": {
            "ProjectName": "demo-publish"
          }
        }
      ]
    }
  ]
}